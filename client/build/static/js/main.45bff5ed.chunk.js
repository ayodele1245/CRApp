(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a.n(s),n=a(24),c=a.n(n),i=a(7),o=a(18),u=Object(o.b)({name:"ticketList",initialState:{tickets:[],isLoading:!1,error:"",replyTicketError:"",searchTicketList:[],selectedTicket:{},replyMsg:""},reducers:{fetchTicketLoading:function(e){e.isLoading=!0},fetchTicketSuccess:function(e,t){e.tickets=t.payload,e.searchTicketList=t.payload,e.isLoading=!1},fetchTicketFail:function(e,t){var a=t.payload;e.isLoading=!1,e.error=a},searchTickets:function(e,t){var a=t.payload;e.searchTicketList=e.tickets.filter((function(e){return a?e.subject.toLowerCase().includes(a.toLowerCase()):e}))},fetchSingleTicketLoading:function(e){e.isLoading=!0},fetchSingleTicketSuccess:function(e,t){var a=t.payload;e.selectedTicket=a,e.isLoading=!1,e.error=""},fetchSingleTicketFail:function(e,t){var a=t.payload;e.isLoading=!1,e.error=a},replyTicketLoading:function(e){e.isLoading=!0},replyTicketSuccess:function(e,t){var a=t.payload;e.isLoading=!1,e.error="",e.replyMsg=a},replyTicketFail:function(e,t){var a=t.payload;e.isLoading=!1,e.replyTicketError=a},closeTicketLoading:function(e){e.isLoading=!0},closeTicketSuccess:function(e,t){var a=t.payload;e.isLoading=!1,e.error="",e.replyMsg=a},closeTicketFail:function(e,t){var a=t.payload;e.isLoading=!1,e.error=a},resetResponseMsg:function(e){e.isLoading=!1,e.replyTicketError="",e.replyMsg=""}}}),j=u.reducer,l=u.actions,d=l.fetchTicketLoading,b=l.fetchTicketSuccess,h=l.fetchTicketFail,p=l.fetchSingleTicketLoading,O=l.fetchSingleTicketSuccess,x=l.fetchSingleTicketFail,m=l.replyTicketLoading,f=l.replyTicketSuccess,g=l.replyTicketFail,v=l.closeTicketLoading,k=l.closeTicketSuccess,w=l.closeTicketFail,N=l.searchTickets,y=l.resetResponseMsg,L=j,S=Object(o.b)({name:"login",initialState:{isLoading:!1,isAuth:!1,error:""},reducers:{loginPending:function(e){e.isLoading=!0},loginSuccess:function(e){e.isLoading=!1,e.isAuth=!0,e.error=""},loginFail:function(e,t){var a=t.payload;e.isLoading=!1,e.error=a}}}),T=S.reducer,C=S.actions,A=C.loginPending,P=C.loginSuccess,R=C.loginFail,F=T,z=Object(o.b)({name:"user",initialState:{user:{},isLoading:!1,error:""},reducers:{getUserPending:function(e){e.isLoading=!0},getUserSuccess:function(e,t){var a=t.payload;e.isLoading=!1,e.user=a,e.error=""},getUserFail:function(e,t){var a=t.payload;e.isLoading=!1,e.error=a}}}),q=z.actions,J=q.getUserPending,D=q.getUserSuccess,H=q.getUserFail,Q=z.reducer,X=Object(o.b)({name:"newTicket",initialState:{isLoading:!1,error:"",successMsg:""},reducers:{openNewTicketPending:function(e){e.isLoading=!0},openNewTicketSuccess:function(e,t){var a=t.payload;e.isLoading=!1,e.successMsg=a},openNewTicketFail:function(e,t){var a=t.payload;e.isLoading=!0,e.error=a},restSuccessMSg:function(e){e.isLoading=!0,e.successMsg=""}}}),G=X.actions,I=G.openNewTicketPending,B=G.openNewTicketSuccess,U=G.openNewTicketFail,W=G.restSuccessMSg,E=X.reducer,Z=Object(o.b)({name:"userRegistration",initialState:{isLoading:!1,status:"",message:""},reducers:{registrationPending:function(e){e.isLoading=!0},registrationSuccess:function(e,t){var a=t.payload;e.isLoading=!1,e.status="success",e.message=a},registrationError:function(e,t){var a=t.payload;e.isLoading=!1,e.status="error",e.message=a}}}),M=Z.reducer,V=Z.actions,K=V.registrationPending,Y=V.registrationSuccess,_=V.registrationError,$=M,ee=Object(o.b)({name:"passwordReset",initialState:{isLoading:!1,status:"",message:"",showUpdatePassForm:!1,email:""},reducers:{otpReqPending:function(e){e.isLoading=!0},otpReqSuccess:function(e,t){var a=t.payload;e.isLoading=!1,e.status="success",e.message=a.message,e.email=a.email,e.showUpdatePassForm=!0},updatePassSuccess:function(e,t){var a=t.payload;e.isLoading=!1,e.status="success",e.message=a},otpReqFail:function(e,t){var a=t.payload;e.isLoading=!1,e.status="error",e.message=a}}}),te=ee.reducer,ae=ee.actions,se=ae.otpReqPending,re=ae.otpReqSuccess,ne=ae.otpReqFail,ce=ae.updatePassSuccess,ie=te,oe=Object(o.a)({reducer:{tickets:L,login:F,user:Q,openTicket:E,registration:$,password:ie}}),ue=(a(69),a(15)),je=a(11),le=(a(70),a(9)),de=a(5),be=a.n(de),he=a(8),pe=a(55),Oe=a(14),xe=a.n(Oe),me="https://cr--app.herokuapp.com/",fe=me+"user",ge=function(e){return new Promise(function(){var t=Object(he.a)(be.a.mark((function t(a,s){var r;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xe.a.post(fe,e);case 3:r=t.sent,a(r.data),"success"===r.data.status&&a(r.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),s(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}())},ve=function(e){return new Promise(function(){var t=Object(he.a)(be.a.mark((function t(a,s){var r;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xe.a.patch("https://cr--app.herokuapp.com/user/verify",e);case 3:r=t.sent,a(r.data),"success"===r.data.status&&a(r.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),s({status:"error",message:t.t0.error});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}())},ke=function(e){return new Promise(function(){var t=Object(he.a)(be.a.mark((function t(a,s){var r;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xe.a.post("https://cr--app.herokuapp.com/user/login",e);case 3:r=t.sent,a(r.data),"success"===r.data.status&&(sessionStorage.setItem("accessJWT",r.data.accessJWT),localStorage.setItem("crmSite",JSON.stringify({refreshJWT:r.data.refreshJWT}))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),s(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}())},we=function(){var e=Object(he.a)(be.a.mark((function e(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xe.a.delete("https://cr--app.herokuapp.com/user/logout",{headers:{Authorization:sessionStorage.getItem("accessJWT")}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),Ne=function(){return function(){var e=Object(he.a)(be.a.mark((function e(t){var a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(J()),e.next=4,new Promise(function(){var e=Object(he.a)(be.a.mark((function e(t,a){var s,r;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(s=sessionStorage.getItem("accessJWT"))||a("Token not found!"),e.next=5,xe.a.get(fe,{headers:{Authorization:s}});case 5:r=e.sent,t(r.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),a(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}());case 4:if(!(a=e.sent).user||!a.user._id){e.next=7;break}return e.abrupt("return",t(D(a.user)));case 7:t(H("User is not found")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t(H(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},ye=a(115),Le=a(114),Se=a(35),Te=a(1),Ce=function(){var e=Object(je.k)();return Object(Te.jsxs)(ye.a,{collapseOnSelect:!0,bg:"info",variant:"dark",expand:"md",children:[Object(Te.jsx)(ye.a.Brand,{children:Object(Te.jsx)("img",{src:"data:image/png;base64,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",alt:"logo",width:"50px"})}),Object(Te.jsx)(ye.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(Te.jsx)(ye.a.Collapse,{id:"basic-navbar-nav",children:Object(Te.jsxs)(Le.a,{className:"ml-auto",children:[Object(Te.jsx)(Se.LinkContainer,{to:"/dashboard",children:Object(Te.jsx)(Le.a.Link,{children:"Dashboard"})}),Object(Te.jsx)(Se.LinkContainer,{to:"/tickets",children:Object(Te.jsx)(Le.a.Link,{children:"Tickets"})}),Object(Te.jsx)(Le.a.Link,{onClick:function(){sessionStorage.removeItem("accessJWT"),localStorage.removeItem("crmSite"),we(),e.push("/")},children:"Logout"})]})})]})},Ae=function(){return Object(Te.jsx)("div",{className:"text-center copy-right",children:"\xa9 Customer Relation App - 2021."})},Pe=function(e){var t=e.children;return Object(Te.jsxs)("div",{className:"default-layout",children:[Object(Te.jsx)("header",{className:"header mb-2",children:Object(Te.jsx)(Ce,{})}),Object(Te.jsx)("main",{className:"main",children:t}),Object(Te.jsx)("footer",{className:"footer",children:Object(Te.jsx)(Ae,{})})]})},Re=["children"],Fe=function(e){var t=e.children,a=Object(pe.a)(e,Re),r=Object(i.b)(),n=Object(i.c)((function(e){return e.login})).isAuth,c=Object(i.c)((function(e){return e.user})).user;return Object(s.useEffect)((function(){var e=function(){var e=Object(he.a)(be.a.mark((function e(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(){var e=Object(he.a)(be.a.mark((function e(t,a){var s,r,n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=JSON.parse(localStorage.getItem("crmSite")),(r=s.refreshJWT)||a("Token not found!"),e.next=5,xe.a.get("https://cr--app.herokuapp.com/tokens",{headers:{Authorization:r}});case 5:"success"===(n=e.sent).data.status&&sessionStorage.setItem("accessJWT",n.data.accessJWT),t(!0),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),"Request failed with status code 403"===e.t0.message&&localStorage.removeItem("crmSite"),a(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}());case 2:e.sent&&r(P());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!c._id&&r(Ne()),!sessionStorage.getItem("accessJWT")&&localStorage.getItem("crmSite")&&e(),!n&&sessionStorage.getItem("accessJWT")&&r(P())}),[r,n,c._id]),Object(Te.jsx)(je.d,Object(le.a)(Object(le.a)({},a),{},{render:function(e){var a=e.location;return n?Object(Te.jsx)(Pe,{children:t}):Object(Te.jsx)(je.c,{to:{pathname:"/",state:{from:a}}})}}))},ze=a(108),qe=a(109),Je=a(59),De=a(110),He=a(107),Qe=function(){var e=Object(i.c)((function(e){return e.tickets})),t=e.searchTicketList,a=e.isLoading,s=e.error;return a?Object(Te.jsx)("h3",{children:"Loading ..."}):s?Object(Te.jsx)("h3",{children:s}):Object(Te.jsxs)(He.a,{striped:!0,bordered:!0,hover:!0,children:[Object(Te.jsx)("thead",{children:Object(Te.jsxs)("tr",{children:[Object(Te.jsx)("th",{children:"#"}),Object(Te.jsx)("th",{children:"Subjects"}),Object(Te.jsx)("th",{children:"Status"}),Object(Te.jsx)("th",{children:"Opened Date"})]})}),Object(Te.jsx)("tbody",{children:t.length?t.map((function(e){return Object(Te.jsxs)("tr",{children:[Object(Te.jsx)("td",{children:e._id}),Object(Te.jsx)("td",{children:Object(Te.jsx)(ue.Link,{to:"/ticket/".concat(e._id),children:e.subject})}),Object(Te.jsx)("td",{children:e.status}),Object(Te.jsx)("td",{children:e.openAt&&new Date(e.openAt).toLocaleString()})]},e._id)})):Object(Te.jsx)("tr",{children:Object(Te.jsxs)("td",{colSpan:"4",className:"text-center",children:["No ticket show"," "]})})})]})},Xe=a(117),Ge=function(e){var t=e.page;return Object(Te.jsxs)(Xe.a,{children:[Object(Te.jsx)(Se.LinkContainer,{to:"/",children:Object(Te.jsx)(Xe.a.Item,{children:"Home"})}),Object(Te.jsx)(Xe.a.Item,{active:!0,children:t})]})},Ie="https://cr--app.herokuapp.com/",Be=Ie+"ticket/",Ue=function(e){return new Promise(function(){var t=Object(he.a)(be.a.mark((function t(a,s){var r;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xe.a.get(Be+e,{headers:{Authorization:sessionStorage.getItem("accessJWT")}});case 3:r=t.sent,a(r),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.message),s(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}())},We=function(e,t){return new Promise(function(){var a=Object(he.a)(be.a.mark((function a(s,r){var n;return be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,xe.a.put(Be+e,t,{headers:{Authorization:sessionStorage.getItem("accessJWT")}});case 3:n=a.sent,s(n.data),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0.message),r(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e,t){return a.apply(this,arguments)}}())},Ee=function(e){return new Promise(function(){var t=Object(he.a)(be.a.mark((function t(a,s){var r;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xe.a.patch("https://cr--app.herokuapp.com/ticket/close-ticket/"+e,{},{headers:{Authorization:sessionStorage.getItem("accessJWT")}});case 3:r=t.sent,a(r.data),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.message),s(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}())},Ze=function(e){return console.log("from api",e),new Promise(function(){var t=Object(he.a)(be.a.mark((function t(a,s){var r;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xe.a.post(Be,e,{headers:{Authorization:sessionStorage.getItem("accessJWT")}});case 3:r=t.sent,a(r.data),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.message),s(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}())},Me=function(){return function(){var e=Object(he.a)(be.a.mark((function e(t){var a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(d()),e.prev=1,e.next=4,new Promise(function(){var e=Object(he.a)(be.a.mark((function e(t,a){var s;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xe.a.get("https://cr--app.herokuapp.com//ticket",{headers:{Authorization:sessionStorage.getItem("accessJWT")}});case 3:s=e.sent,t(s),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}());case 4:(a=e.sent).data.result.length&&t(b(a.data.result)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(h(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},Ve=function(e){return function(){var t=Object(he.a)(be.a.mark((function t(a){var s;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(p()),t.prev=1,t.next=4,Ue(e);case 4:s=t.sent,a(O(s.data.result.length&&s.data.result[0])),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a(x(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},Ke=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.tickets})).tickets;Object(s.useEffect)((function(){t.length||e(Me())}),[t,e]);var a=t.filter((function(e){return"Closed"!==e.status})),r=t.length;return Object(Te.jsxs)(ze.a,{children:[Object(Te.jsx)(qe.a,{children:Object(Te.jsx)(Je.a,{children:Object(Te.jsx)(Ge,{page:"Dashboard"})})}),Object(Te.jsx)(qe.a,{children:Object(Te.jsx)(Je.a,{className:"text-center mt-5 mb-2",children:Object(Te.jsx)(ue.Link,{to:"/add-ticket",children:Object(Te.jsx)(De.a,{variant:"info",style:{fontSize:"2rem",padding:"10px 30px"},children:"Add New Message Ticket"})})})}),Object(Te.jsx)(qe.a,{children:Object(Te.jsxs)(Je.a,{className:"text-center  mb-2",children:[Object(Te.jsxs)("div",{children:["Total tickets: ",r]}),Object(Te.jsxs)("div",{children:["Pending tickets: ",a.length]})]})}),Object(Te.jsx)(qe.a,{children:Object(Te.jsx)(Je.a,{className:"mt-2",children:"Recently Added Message tickets"})}),Object(Te.jsx)("hr",{}),Object(Te.jsx)(qe.a,{children:Object(Te.jsx)(Je.a,{className:"recent-ticket",children:Object(Te.jsx)(Qe,{tickets:t})})})]})},Ye=a(12),_e=a(111),$e=a(112),et=a(116),tt=(a(98),{status:"",message:""}),at=function(){var e=Object(je.m)(),t=e._id,a=e.email,r=Object(s.useState)(tt),n=Object(Ye.a)(r,2),c=n[0],i=n[1];return Object(s.useEffect)((function(){var e=function(){var e=Object(he.a)(be.a.mark((function e(){var s;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve({_id:t,email:a});case 2:s=e.sent,i(s);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!c.status&&e()}),[c,t,a]),Object(Te.jsx)("div",{className:"registration-page bg-info",children:Object(Te.jsx)("div",{className:"mt-5",children:Object(Te.jsxs)(_e.a,{className:"form-box",children:[!c.status&&Object(Te.jsx)($e.a,{variant:"info",animation:"border"}),c.status&&Object(Te.jsx)(et.a,{variant:"success"===c.status?"success":"danger",children:c.message})]})})})},st=a(113),rt=function(e){e.formSwitcher;var t=Object(i.b)(),a=Object(je.k)(),r=Object(je.l)(),n=Object(i.c)((function(e){return e.login})),c=n.isLoading,o=n.isAuth,u=n.error,j=(r.state||{from:{pathname:"/"}}).from;Object(s.useEffect)((function(){sessionStorage.getItem("accessJWT")&&a.replace({from:j})}),[a,o,j]);var l=Object(s.useState)("josh1@gmail.com"),d=Object(Ye.a)(l,2),b=d[0],h=d[1],p=Object(s.useState)("Josh@gmail1"),O=Object(Ye.a)(p,2),x=O[0],m=O[1],f=function(e){var t=e.target,a=t.name,s=t.value;switch(a){case"email":h(s);break;case"password":m(s)}},g=function(){var e=Object(he.a)(be.a.mark((function e(s){var r;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),b&&x){e.next=3;break}return e.abrupt("return",alert("Fill up all the form!"));case 3:return t(A()),e.prev=4,e.next=7,ke({email:b,password:x});case 7:if("error"!==(r=e.sent).status){e.next=10;break}return e.abrupt("return",t(R(r.message)));case 10:t(P()),t(Ne()),a.push("/dashboard"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),t(R(e.t0.message));case 18:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(Te.jsxs)(ze.a,{children:[Object(Te.jsx)(qe.a,{children:Object(Te.jsxs)(Je.a,{children:[Object(Te.jsx)("h1",{className:"text-info text-center",children:"Client Login"}),Object(Te.jsx)("hr",{}),u&&Object(Te.jsx)(et.a,{variant:"danger",children:u}),Object(Te.jsxs)(st.a,{autoComplete:"off",onSubmit:g,children:[Object(Te.jsxs)(st.a.Group,{children:[Object(Te.jsx)(st.a.Label,{children:"Email Address"}),Object(Te.jsx)(st.a.Control,{type:"email",name:"email",value:b,onChange:f,placeholder:"Enter Email",required:!0})]}),Object(Te.jsxs)(st.a.Group,{children:[Object(Te.jsx)(st.a.Label,{children:"Password"}),Object(Te.jsx)(st.a.Control,{type:"password",name:"password",onChange:f,value:x,placeholder:"password",required:!0})]}),Object(Te.jsx)(De.a,{type:"submit",children:"Login"}),c&&Object(Te.jsx)($e.a,{variant:"primary",animation:"border"})]}),Object(Te.jsx)("hr",{})]})}),Object(Te.jsx)(qe.a,{children:Object(Te.jsx)(Je.a,{children:Object(Te.jsx)("a",{href:"/password-reset",children:"Forget Password?"})})}),Object(Te.jsx)(qe.a,{className:"py-4",children:Object(Te.jsxs)(Je.a,{children:["Are you new here? ",Object(Te.jsx)("a",{href:"/registration",children:"Register Now"})]})})]})},nt=function(e){return new Promise(function(){var t=Object(he.a)(be.a.mark((function t(a,s){var r,n;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xe.a.post("https://cr--app.herokuapp.com/user/reset-password",{email:e});case 3:r=t.sent,n=r.data,console.log(n),a(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),s(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}())},ct=function(e){return new Promise(function(){var t=Object(he.a)(be.a.mark((function t(a,s){var r,n;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xe.a.patch("https://cr--app.herokuapp.com/user/reset-password",e);case 3:r=t.sent,n=r.data,console.log(n),a(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),s(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}())},it=function(){var e=Object(i.b)(),t=Object(s.useState)(""),a=Object(Ye.a)(t,2),r=a[0],n=a[1],c=Object(i.c)((function(e){return e.password})),o=c.isLoading,u=c.status,j=c.message;return Object(Te.jsx)(ze.a,{children:Object(Te.jsx)(qe.a,{children:Object(Te.jsxs)(Je.a,{children:[Object(Te.jsx)("h1",{className:"text-info text-center",children:"Reset Password"}),Object(Te.jsx)("hr",{}),j&&Object(Te.jsx)(et.a,{variant:"success"===u?"success":"danger",children:j}),o&&Object(Te.jsx)($e.a,{variant:"primary",animation:"border"}),Object(Te.jsxs)(st.a,{autoComplete:"off",onSubmit:function(t){t.preventDefault(),e(function(e){return function(){var t=Object(he.a)(be.a.mark((function t(a){var s,r,n;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(se()),t.next=4,nt(e);case 4:if(s=t.sent,r=s.status,n=s.message,"success"!==r){t.next=9;break}return t.abrupt("return",a(re({message:n,email:e})));case 9:a(ne(n)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),a(ne(t.t0.message));case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}(r))},children:[Object(Te.jsxs)(st.a.Group,{children:[Object(Te.jsx)(st.a.Label,{children:"Email Address"}),Object(Te.jsx)(st.a.Control,{type:"email",name:"email",value:r,onChange:function(e){var t=e.target.value;n(t)},placeholder:"Enter Email",required:!0})]}),Object(Te.jsx)(De.a,{type:"submit",children:"Reset Password"})]}),Object(Te.jsx)("hr",{})]})})})},ot=(a(99),function(){var e=Object(s.useState)("login"),t=Object(Ye.a)(e,2),a=t[0],r=t[1],n=function(e){r(e)};return Object(Te.jsxs)("div",{children:[Object(Te.jsx)("h1",{className:"head",children:"Welcome To Josh Customer Relation App"}),Object(Te.jsx)("div",{className:"entry-page",children:Object(Te.jsxs)(_e.a,{className:"form-box",children:["login"===a&&Object(Te.jsx)(rt,{formSwitcher:n}),"rest"===a&&Object(Te.jsx)(it,{handleOnResetSubmit:function(e){e.preventDefault()},formSwitcher:n})]})})]})}),ut=a(25),jt={pin:"",password:"sfsd#3Dsg",confirmPass:"sfsd#3Dsg"},lt={isLenthy:!1,hasUpper:!1,hasLower:!1,hasNumber:!1,hasSpclChr:!1,confirmPass:!1},dt=function(){var e=Object(i.b)(),t=Object(s.useState)(jt),a=Object(Ye.a)(t,2),r=a[0],n=a[1],c=Object(s.useState)(lt),o=Object(Ye.a)(c,2),u=o[0],j=o[1],l=Object(i.c)((function(e){return e.password})),d=l.isLoading,b=l.status,h=l.message,p=l.email,O=function(e){var t=e.target,a=t.name,s=t.value;if(n(Object(le.a)(Object(le.a)({},r),{},Object(ut.a)({},a,s))),"password"===a){var c=s.length>8,i=/[A-Z]/.test(s),o=/[a-z]/.test(s),l=/[0-9]/.test(s),d=/[@,#,$,%,&]/.test(s);j(Object(le.a)(Object(le.a)({},u),{},{isLenthy:c,hasUpper:i,hasLower:o,hasNumber:l,hasSpclChr:d}))}"confirmPass"===a&&j(Object(le.a)(Object(le.a)({},u),{},{confirmPass:r.password===s}))};return Object(Te.jsxs)(ze.a,{children:[Object(Te.jsx)(qe.a,{children:Object(Te.jsx)(Je.a,{children:Object(Te.jsx)("h1",{className:"text-info",children:"Update Password"})})}),Object(Te.jsx)("hr",{}),Object(Te.jsx)(qe.a,{children:Object(Te.jsxs)(Je.a,{children:[h&&Object(Te.jsx)(et.a,{variant:"success"===b?"success":"danger",children:h}),d&&Object(Te.jsx)($e.a,{variant:"primary",animation:"border"})]})}),Object(Te.jsx)(qe.a,{children:Object(Te.jsx)(Je.a,{children:Object(Te.jsxs)(st.a,{onSubmit:function(t){t.preventDefault();var a,s=r.pin,n=r.password;e((a={pin:s,newPassword:n,email:p},function(){var e=Object(he.a)(be.a.mark((function e(t){var s,r,n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(se()),e.next=4,ct(a);case 4:if(s=e.sent,r=s.status,n=s.message,"success"!==r){e.next=9;break}return e.abrupt("return",t(ce(n)));case 9:t(ne(n)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t(ne(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(Te.jsxs)(st.a.Group,{children:[Object(Te.jsx)(st.a.Label,{children:"OTP"}),Object(Te.jsx)(st.a.Control,{type:"number",name:"pin",value:r.pin,onChange:O,placeholder:"OTP",required:!0})]}),Object(Te.jsxs)(st.a.Group,{children:[Object(Te.jsx)(st.a.Label,{children:"Password"}),Object(Te.jsx)(st.a.Control,{type:"password",name:"password",value:r.password,onChange:O,placeholder:"Password",required:!0})]}),Object(Te.jsxs)(st.a.Group,{children:[Object(Te.jsx)(st.a.Label,{children:"Confirm Password"}),Object(Te.jsx)(st.a.Control,{type:"password",name:"confirmPass",value:r.confirmPass,onChange:O,placeholder:"Confirm Password",required:!0})]}),Object(Te.jsx)(st.a.Text,{children:!u.confirmPass&&Object(Te.jsx)("div",{className:"text-danger mb-3",children:"Password doesn't match!"})}),Object(Te.jsxs)("ul",{className:"mb-4",children:[Object(Te.jsx)("li",{className:u.isLenthy?"text-success":"text-danger",children:"Min 8 characters"}),Object(Te.jsx)("li",{className:u.hasUpper?"text-success":"text-danger",children:"At least one upper case"}),Object(Te.jsx)("li",{className:u.hasLower?"text-success":"text-danger",children:"At least one lower case"}),Object(Te.jsx)("li",{className:u.hasNumber?"text-success":"text-danger",children:"At least one number"}),Object(Te.jsxs)("li",{className:u.hasSpclChr?"text-success":"text-danger",children:["At least one of the special characters i.e @ # $ % &"," "]})]}),Object(Te.jsx)(De.a,{variant:"primary",type:"submit",disabled:Object.values(u).includes(!1),children:"Submit"})]})})})]})},bt=(a(100),function(){var e=Object(i.c)((function(e){return e.password})).showUpdatePassForm;return Object(Te.jsx)("div",{className:"entry-page bg-info",children:Object(Te.jsxs)(_e.a,{className:"form-box",children:[e?Object(Te.jsx)(dt,{}):Object(Te.jsx)(it,{}),Object(Te.jsx)("div",{className:"text-center",children:Object(Te.jsx)("a",{href:"/",children:"Login Now"})})]})})}),ht={name:"Adeboye Josh",phone:"08023456789",email:"josh@gmail.com",company:"Josh WebDev",address:"12, Josh Street",password:"Joshua1234#",confirmPass:"Joshua1234#"},pt={isLenthy:!1,hasUpper:!1,hasLower:!1,hasNumber:!1,hasSpclChr:!1,confirmPass:!1},Ot=function(){var e=Object(i.b)(),t=Object(s.useState)(ht),a=Object(Ye.a)(t,2),r=a[0],n=a[1],c=Object(s.useState)(pt),o=Object(Ye.a)(c,2),u=o[0],j=o[1],l=Object(i.c)((function(e){return e.registration})),d=l.isLoading,b=l.status,h=l.message;Object(s.useEffect)((function(){}),[r]);var p=function(e){var t=e.target,a=t.name,s=t.value;if(n(Object(le.a)(Object(le.a)({},r),{},Object(ut.a)({},a,s))),"password"===a){var c=s.length>8,i=/[A-Z]/.test(s),o=/[a-z]/.test(s),l=/[0-9]/.test(s),d=/[@,#,$,%,&]/.test(s);j(Object(le.a)(Object(le.a)({},u),{},{isLenthy:c,hasUpper:i,hasLower:o,hasNumber:l,hasSpclChr:d}))}"confirmPass"===a&&j(Object(le.a)(Object(le.a)({},u),{},{confirmPass:r.password===s}))};return Object(Te.jsxs)(ze.a,{children:[Object(Te.jsx)(qe.a,{children:Object(Te.jsx)(Je.a,{children:Object(Te.jsx)("h1",{className:"text-info",children:"User Registration"})})}),Object(Te.jsx)("hr",{}),Object(Te.jsx)(qe.a,{children:Object(Te.jsx)(Je.a,{children:h&&Object(Te.jsx)(et.a,{variant:"success"===b?"success":"danger",children:h})})}),Object(Te.jsx)(qe.a,{children:Object(Te.jsx)(Je.a,{children:Object(Te.jsxs)(st.a,{onSubmit:function(t){t.preventDefault();var a,s=r.name,n=r.phone,c=r.email,i=r.company,o=r.address,u=r.password;e((a={name:s,phone:n,email:c,company:i,address:o,password:u},function(){var e=Object(he.a)(be.a.mark((function e(t){var s;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(K()),e.next=4,ge(a);case 4:"success"===(s=e.sent).status?t(Y(s.message)):t(_(s.message)),console.log(s),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(_(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(Te.jsxs)(st.a.Group,{children:[Object(Te.jsx)(st.a.Label,{children:"Full Name"}),Object(Te.jsx)(st.a.Control,{type:"text",name:"name",value:r.name,onChange:p,placeholder:"Your name",required:!0})]}),Object(Te.jsxs)(st.a.Group,{children:[Object(Te.jsx)(st.a.Label,{children:"Phone"}),Object(Te.jsx)(st.a.Control,{type:"number",name:"phone",value:r.phone,onChange:p,placeholder:"Phone",required:!0})]}),Object(Te.jsxs)(st.a.Group,{children:[Object(Te.jsx)(st.a.Label,{children:"Email address"}),Object(Te.jsx)(st.a.Control,{type:"email",name:"email",value:r.email,onChange:p,placeholder:"Enter email",required:!0})]}),Object(Te.jsxs)(st.a.Group,{children:[Object(Te.jsx)(st.a.Label,{children:"Company name"}),Object(Te.jsx)(st.a.Control,{type:"text",name:"company",value:r.company,onChange:p,placeholder:"Company name",required:!0})]}),Object(Te.jsxs)(st.a.Group,{children:[Object(Te.jsx)(st.a.Label,{children:"Address"}),Object(Te.jsx)(st.a.Control,{type:"text",name:"address",value:r.address,onChange:p,placeholder:"Full address",required:!0})]}),Object(Te.jsxs)(st.a.Group,{children:[Object(Te.jsx)(st.a.Label,{children:"Password"}),Object(Te.jsx)(st.a.Control,{type:"password",name:"password",value:r.password,onChange:p,placeholder:"Password",required:!0})]}),Object(Te.jsxs)(st.a.Group,{children:[Object(Te.jsx)(st.a.Label,{children:"Confirm Password"}),Object(Te.jsx)(st.a.Control,{type:"password",name:"confirmPass",value:r.confirmPass,onChange:p,placeholder:"Confirm Password",required:!0})]}),Object(Te.jsx)(st.a.Text,{children:!u.confirmPass&&Object(Te.jsx)("div",{className:"text-danger mb-3",children:"Password doesn't match!"})}),Object(Te.jsxs)("ul",{className:"mb-4",children:[Object(Te.jsx)("li",{className:u.isLenthy?"text-success":"text-danger",children:"Minimum of 8 characters"}),Object(Te.jsx)("li",{className:u.hasUpper?"text-success":"text-danger",children:"At least one upper case"}),Object(Te.jsx)("li",{className:u.hasLower?"text-success":"text-danger",children:"At least one lower case"}),Object(Te.jsx)("li",{className:u.hasNumber?"text-success":"text-danger",children:"At least one number"}),Object(Te.jsxs)("li",{className:u.hasSpclChr?"text-success":"text-danger",children:["At least on of the special characters i.e @ # $ % &"," "]})]}),Object(Te.jsx)(De.a,{variant:"primary",type:"submit",disabled:Object.values(u).includes(!1),children:"Submit"}),d&&Object(Te.jsx)($e.a,{variant:"info",animation:"border"})]})})}),Object(Te.jsx)(qe.a,{className:"py-4",children:Object(Te.jsxs)(Je.a,{children:["Already have an account ",Object(Te.jsx)("a",{href:"/",children:"Login Now"})]})})]})},xt=(a(101),function(){return Object(Te.jsx)("div",{className:"registration-page bg-info",children:Object(Te.jsx)("div",{className:"mt-5",children:Object(Te.jsx)(_e.a,{className:"form-box",children:Object(Te.jsx)(Ot,{})})})})}),mt=function(e){return function(t){return new Promise(function(){var a=Object(he.a)(be.a.mark((function a(s,r){var n;return be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t(I()),a.next=4,Ze(e);case 4:if("error"!==(n=a.sent).status){a.next=7;break}return a.abrupt("return",t(U(n.message)));case 7:t(B(n.message)),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0),t(U(a.t0.message));case 14:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e,t){return a.apply(this,arguments)}}())}},ft=(a(102),{subject:"",issueDate:"",message:""}),gt={subject:!1,issueDate:!1,message:!1},vt=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.user})).user.name,a=Object(i.c)((function(e){return e.openTicket})),r=a.isLoading,n=a.error,c=a.successMsg,o=Object(s.useState)(ft),u=Object(Ye.a)(o,2),j=u[0],l=u[1],d=Object(s.useState)(gt),b=Object(Ye.a)(d,2),h=b[0],p=b[1];Object(s.useEffect)((function(){return function(){c&&e(W())}}),[e,j,h,c]);var O=function(e){var t=e.target,a=t.name,s=t.value;l(Object(le.a)(Object(le.a)({},j),{},Object(ut.a)({},a,s)))},x=function(){var a=Object(he.a)(be.a.mark((function a(s){var r;return be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s.preventDefault(),p(gt),a.next=4,(n=j.subject).length>=3&&n.length<=100;case 4:r=a.sent,p(Object(le.a)(Object(le.a)({},gt),{},{subject:!r})),e(mt(Object(le.a)(Object(le.a)({},j),{},{sender:t})));case 7:case"end":return a.stop()}var n}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(Te.jsxs)(_e.a,{className:"mt-3 add-new-ticket bg-light",children:[Object(Te.jsx)("h1",{className:"text-info text-center",children:"Add New Ticket"}),Object(Te.jsx)("hr",{}),Object(Te.jsxs)("div",{children:[n&&Object(Te.jsx)(et.a,{variant:"danger",children:n}),c&&Object(Te.jsx)(et.a,{variant:"primary",children:c}),r&&Object(Te.jsx)($e.a,{variant:"primary",animation:"border"})]}),Object(Te.jsxs)(st.a,{autoComplete:"off",onSubmit:x,children:[Object(Te.jsxs)(st.a.Group,{as:qe.a,children:[Object(Te.jsx)(st.a.Label,{column:!0,sm:3,children:"Subject"}),Object(Te.jsxs)(Je.a,{sm:9,children:[Object(Te.jsx)(st.a.Control,{name:"subject",value:j.subject,minLength:"10",maxLength:"100",onChange:O,placeholder:"Subject",required:!0}),Object(Te.jsx)(st.a.Text,{className:"text-danger",children:h.subject&&"Subject is required!"})]})]}),Object(Te.jsxs)(st.a.Group,{as:qe.a,children:[Object(Te.jsx)(st.a.Label,{column:!0,sm:3,children:"Issue Found"}),Object(Te.jsx)(Je.a,{sm:9,children:Object(Te.jsx)(st.a.Control,{type:"date",name:"issueDate",value:j.issueDate,onChange:O,required:!0})})]}),Object(Te.jsxs)(st.a.Group,{children:[Object(Te.jsx)(st.a.Label,{children:"Message"}),Object(Te.jsx)(st.a.Control,{as:"textarea",name:"message",rows:"5",value:j.message,onChange:O,required:!0})]}),Object(Te.jsx)(De.a,{type:"submit",variant:"info",block:!0,children:"Send Ticket"})]})]})},kt=function(){return Object(Te.jsxs)(ze.a,{children:[Object(Te.jsx)(qe.a,{children:Object(Te.jsx)(Je.a,{children:Object(Te.jsx)(Ge,{page:"New Ticket"})})}),Object(Te.jsx)(qe.a,{children:Object(Te.jsx)(Je.a,{children:Object(Te.jsx)(vt,{})})})]})},wt=function(){var e=Object(i.b)();return Object(Te.jsx)("div",{children:Object(Te.jsx)(st.a,{children:Object(Te.jsxs)(st.a.Group,{as:qe.a,children:[Object(Te.jsx)(st.a.Label,{column:!0,sm:"3",children:"Search:"}),Object(Te.jsx)(Je.a,{sm:"9",children:Object(Te.jsx)(st.a.Control,{name:"searchStr",onChange:function(t){var a,s=t.target.value;e((a=s,function(e){e(N(a))}))},placeholder:"Search ..."})})]})})})},Nt=function(){var e=Object(i.b)();return Object(s.useEffect)((function(){e(Me())}),[e]),Object(Te.jsxs)(ze.a,{children:[Object(Te.jsx)(qe.a,{children:Object(Te.jsx)(Je.a,{children:Object(Te.jsx)(Ge,{page:"Ticket Lists"})})}),Object(Te.jsxs)(qe.a,{className:"mt-4",children:[Object(Te.jsx)(Je.a,{children:Object(Te.jsx)(ue.Link,{to:"/add-ticket",children:Object(Te.jsx)(De.a,{variant:"info",children:"Add New Ticket"})})}),Object(Te.jsx)(Je.a,{className:"text-right",children:Object(Te.jsx)(wt,{})})]}),Object(Te.jsx)("hr",{}),Object(Te.jsx)(qe.a,{children:Object(Te.jsx)(Je.a,{children:Object(Te.jsx)(Qe,{})})})]})},yt=(a(103),function(e){var t=e.msg;return t?t.map((function(e,t){return Object(Te.jsxs)("div",{className:"message-history mt-3",children:[Object(Te.jsxs)("div",{className:"send font-weight-bold text-secondary",children:[Object(Te.jsx)("div",{className:"sender",children:e.sender}),Object(Te.jsx)("div",{className:"date",children:e.msgAt&&new Date(e.msgAt).toLocaleString()})]}),Object(Te.jsx)("div",{className:"message",children:e.message})]},t)})):null}),Lt=function(e){var t=e._id,a=Object(i.b)(),r=Object(i.c)((function(e){return e.user})).user.name,n=Object(s.useState)(""),c=Object(Ye.a)(n,2),o=c[0],u=c[1];return Object(Te.jsx)("div",{children:Object(Te.jsxs)(st.a,{onSubmit:function(e){e.preventDefault(),a(function(e,t){return function(){var a=Object(he.a)(be.a.mark((function a(s){var r;return be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(m()),a.prev=1,a.next=4,We(e,t);case 4:if(r=a.sent,console.log(r),"error"!==r.status){a.next=8;break}return a.abrupt("return",s(g(r.message)));case 8:s(Ve(e)),s(f(r.message)),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(1),console.log(a.t0.message),s(g(a.t0.message));case 16:case"end":return a.stop()}}),a,null,[[1,12]])})));return function(e){return a.apply(this,arguments)}}()}(t,{message:o,sender:r})),u("")},children:[Object(Te.jsx)(st.a.Label,{children:"Reply"}),Object(Te.jsx)(st.a.Text,{children:"Please reply your message here or update the ticket"}),Object(Te.jsx)(st.a.Control,{value:o,onChange:function(e){u(e.target.value)},as:"textarea",row:"5",name:"detail"}),Object(Te.jsx)("div",{className:"text-right mt-3 mb-3",children:Object(Te.jsx)(De.a,{variant:"info",type:"submit",children:"Reply"})})]})})},St=function(){var e=Object(je.m)().tId,t=Object(i.b)(),a=Object(i.c)((function(e){return e.tickets})),r=a.isLoading,n=a.error,c=a.selectedTicket,o=a.replyMsg,u=a.replyTicketError;return Object(s.useEffect)((function(){return t(Ve(e)),function(){(o||u)&&t(y())}}),[e,t,o,u]),Object(Te.jsxs)(ze.a,{children:[Object(Te.jsx)(qe.a,{children:Object(Te.jsx)(Je.a,{children:Object(Te.jsx)(Ge,{page:"Ticket"})})}),Object(Te.jsx)(qe.a,{children:Object(Te.jsxs)(Je.a,{children:[r&&Object(Te.jsx)($e.a,{variant:"primary",animation:"border"}),n&&Object(Te.jsx)(et.a,{variant:"danger",children:n}),u&&Object(Te.jsx)(et.a,{variant:"danger",children:u}),o&&Object(Te.jsx)(et.a,{variant:"success",children:o})]})}),Object(Te.jsxs)(qe.a,{children:[Object(Te.jsxs)(Je.a,{className:"text-weight-bolder text-secondary",children:[Object(Te.jsxs)("div",{className:"subject",children:["Subject: ",c.subject]}),Object(Te.jsxs)("div",{className:"date",children:["Ticket Opened:"," ",c.openAt&&new Date(c.openAt).toLocaleString()]}),Object(Te.jsxs)("div",{className:"status",children:["Status: ",c.status]})]}),Object(Te.jsx)(Je.a,{className:"text-right",children:Object(Te.jsx)(De.a,{variant:"outline-info",onClick:function(){return t((a=e,function(){var e=Object(he.a)(be.a.mark((function e(t){var s;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(v()),e.prev=1,e.next=4,Ee(a);case 4:if("error"!==(s=e.sent).status){e.next=7;break}return e.abrupt("return",t(w(s.message)));case 7:t(Ve(a)),t(k("Status Updated successfully")),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0.message),t(w(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()));var a},disabled:"Closed"===c.status,children:"Close Ticket"})})]}),Object(Te.jsx)(qe.a,{className:"mt-4",children:Object(Te.jsx)(Je.a,{children:c.conversations&&Object(Te.jsx)(yt,{msg:c.conversations})})}),Object(Te.jsx)("hr",{}),Object(Te.jsx)(qe.a,{className:"mt-4",children:Object(Te.jsx)(Je.a,{children:Object(Te.jsx)(Lt,{_id:e})})})]})};var Tt=function(){return Object(Te.jsx)("div",{className:"App",children:Object(Te.jsx)(ue.BrowserRouter,{children:Object(Te.jsxs)(je.g,{children:[Object(Te.jsx)(je.d,{exact:!0,path:"/",children:Object(Te.jsx)(ot,{})}),Object(Te.jsx)(je.d,{exact:!0,path:"/registration",children:Object(Te.jsx)(xt,{})}),Object(Te.jsx)(je.d,{exact:!0,path:"/password-reset",children:Object(Te.jsx)(bt,{})}),Object(Te.jsx)(je.d,{exact:!0,path:"/verification/:_id/:email",children:Object(Te.jsx)(at,{})}),Object(Te.jsx)(Fe,{exact:!0,path:"/dashboard",children:Object(Te.jsx)(Ke,{})}),Object(Te.jsx)(Fe,{exact:!0,path:"/add-ticket",children:Object(Te.jsx)(kt,{})}),Object(Te.jsx)(Fe,{exact:!0,path:"/ticket/:tId",children:Object(Te.jsx)(St,{})}),Object(Te.jsx)(Fe,{exact:!0,path:"/tickets",children:Object(Te.jsx)(Nt,{})}),Object(Te.jsx)(je.d,{path:"*",children:Object(Te.jsx)("h1",{children:"Page not found"})})]})})})};a(104);c.a.render(Object(Te.jsx)(r.a.StrictMode,{children:Object(Te.jsx)(i.a,{store:oe,children:Object(Te.jsx)(Tt,{})})}),document.getElementById("root"))},69:function(e,t,a){},70:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[105,1,2]]]);
//# sourceMappingURL=main.45bff5ed.chunk.js.map